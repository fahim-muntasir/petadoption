{% extends "petapp/base.html" %}

{% block title %} Pets - petadopt {% endblock %}

{% block content %}
    <div>
        <div class="container mx-auto my-12">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Sidebar Filter -->
                <div class="w-full lg:w-1/4 bg-white border-r-2 border-[#e95b47]  p-4 mb-6 lg:mb-0">
                    <input type="text" placeholder="Search Pets..."
                        class="w-full p-2 border border-[#e95b47] rounded mb-4 focus:outline-none">
                    <div class="mb-4">
                        <h3 class="text-xl text-[#7c7887] mb-2 font-bold ">Category</h3>
                        <ul class="space-y-1">
                            <li><a href="#" class="text-[#e95b47] hover:text-black text-lg font-bold">Cat</a></li>
                            <li><a href="#" class="text-[#e95b47] hover:text-black text-lg font-bold">Dog</a></li>
                            <li><a href="#" class="text-[#e95b47] hover:text-black text-lg font-bold">Bird</a></li>
                        </ul>
                    </div>
                    <div class="mb-4">
                        <h3 class="text-xl text-[#7c7887] mb-2 font-bold">Locations</h3>
                        <ul class="space-y-1">
                            <li><a href="#" class="text-[#e95b47] hover:text-black text-lg font-bold">All of Bangladesh</a></li>
                            <!-- {% if data %}
                                <ul>
                                    {% for item in data %}
                                        <li>{{ item.district }}</li>
                                    {% endfor %}
                                </ul>
                            {% else %}
                                <p>No data available</p>
                            {% endif %} -->

                            {% for item in data %}
                            <li><a href="#" class="text-[#e95b47] hover:text-black text-lg font-bold">{{item.division}}</a></li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="mb-4">
                        <h3 class="text-xl text-[#7c7887] mb-2 font-bold">Age</h3>
                        <input type="range" min="0" max="10" class="w-full">
                    </div>
                </div>
                <!-- test -->
                <!-- Pet Listing Section -->
                <div class="w-full lg:w-3/4">
                    <h2 class="text-2xl font-bold mb-4 text-[#e95b47]">Total Items</h2>
                    <div class="space-y-6">
                        <!-- Single Pet Card -->
                        {% for post in page_obj %}
                        <a href="{% url 'item' id=post.id %}" class="bg-[#fff6e5] border border-red-200 rounded-lg p-4 flex flex-col sm:flex-row items-start">
                            <img src="/media/{{ post.image }}" alt="Cat"
                                class="w-full sm:w-56 h-48 object-cover rounded-md mb-4 sm:mb-0 sm:mr-4">
                            <div class="flex flex-col">
                                <h3 class="text-xl font-bold text-gray-800">{{ post.title }}</h3>
                                <p class="text-[#115470] text-base mt-2 font-semibold">{{ post.description|truncatewords:30 }}</p>
                                <p class="font-semibold text-lg mt-2">{% load tz %}
                                  Published At: {% localtime on %}{{ post.created_at }}{% endlocaltime %}</p>
                            </div>
                        </a>
                        {% endfor %}
                    </div>

                    <!-- Pagination -->
                    <div class="flex justify-end mt-6">
                        <nav class="inline-flex rounded-md shadow">
                          <!-- Previous Page Link -->
                          {% if page_obj.has_previous %}
                              <a href="?page={{ page_obj.previous_page_number }}"
                                class="px-3 py-2 text-[#062d3e] bg-white border border-[#e95b47] rounded-l-md hover:bg-gray-100">Prev</a>
                          {% endif %}
                      
                          <!-- First Page Link -->
                          {% if page_obj.number > 2 %}
                              <a href="?page=1" class="px-3 py-2 text-[#062d3e] bg-white border-t border-b border-[#e95b47] hover:bg-gray-100">1</a>
                              {% if page_obj.number > 3 %}
                                  <span class="px-3 py-2 text-gray-500 bg-white border-t border-b border-[#e95b47]">...</span>
                              {% endif %}
                          {% endif %}
                      
                          <!-- Middle Page Links (Dynamic Range) -->
                          {% for num in page_obj.paginator.page_range %}
                              {% if num >= page_obj.number|add:"-1" and num <= page_obj.number|add:"1" %}
                                  <a href="?page={{ num }}"
                                    class="px-3 py-2 {% if page_obj.number == num %}text-white bg-[#e95b47]{% else %}text-[#062d3e] bg-white{% endif %} border-t border-b border-[#e95b47] hover:bg-gray-100">
                                      {{ num }}
                                  </a>
                              {% endif %}
                          {% endfor %}
                      
                          <!-- Last Page Link -->
                          {% if page_obj.number < page_obj.paginator.num_pages|add:"-1" %}
                              {% if page_obj.number < page_obj.paginator.num_pages|add:"-2" %}
                                  <span class="px-3 py-2 text-gray-500 bg-white border-t border-b border-[#e95b47]">...</span>
                              {% endif %}
                              <a href="?page={{ page_obj.paginator.num_pages }}"
                                class="px-3 py-2 text-[#062d3e] bg-white border-t border-b border-[#e95b47] hover:bg-gray-100">
                                  {{ page_obj.paginator.num_pages }}
                              </a>
                          {% endif %}
                      
                          <!-- Next Page Link -->
                          {% if page_obj.has_next %}
                              <a href="?page={{ page_obj.next_page_number }}"
                                class="px-3 py-2 text-[#062d3e] bg-white border border-[#e95b47] rounded-r-md hover:bg-gray-100">Next</a>
                          {% endif %}
                        </nav>
                        <!-- <nav class="inline-flex rounded-md shadow">
                          {% if page_obj.has_previous %}
                            <a href="?page={{ page_obj.previous_page_number }}"
                                class="px-3 py-2 text-[#062d3e] bg-white border border-[#e95b47] rounded-l-md hover:bg-gray-100">Prev</a>
                          {% endif %}
                            <a href="#"
                                class="px-3 py-2 text-[#062d3e] bg-white border-t border-b border-[#e95b47] hover:bg-gray-100">1</a>
                            <span class="px-3 py-2 text-gray-500 bg-white border-t border-b border-[#e95b47]">...</span>
                            <a href="#"
                                class="px-3 py-2 text-[#062d3e] bg-white border-t border-b border-[#e95b47] hover:bg-gray-100">4</a>
                            <a href="#"
                                class="px-3 py-2 text-[#062d3e] bg-white border-t border-b border-[#e95b47] hover:bg-gray-100">5</a>
                            
                            {% if page_obj.has_next %}
                            <a href="?page={{ page_obj.next_page_number }}"
                                class="px-3 py-2 text-[#062d3e] bg-white border border-[#e95b47] rounded-r-md hover:bg-gray-100">Next</a>
                            {% endif %}
                        </nav> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}